import{d as D,r as f,f as K,w as O,g as P,h as R,c as a,o as n,a as t,i as x,b as p,v as W,F as y,e as h,j as m,k as z,t as c,l as H,n as $}from"./index-Bgtx7Bml.js";import T from"./vocabulary-DcJRFp3m.js";const Y={class:"px-4 pt-6 2xl:px-0"},q={class:"border border-gray-200 rounded-lg bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800 sm:p-6"},J={class:"items-center justify-between lg:flex"},Q={class:"items-center sm:flex"},X={class:"flex items-center"},Z=["value"],G={class:"ml-2 inline-flex cursor-pointer items-center"},ee={key:0,class:"ml-2 inline-flex cursor-pointer items-center"},te={key:1,class:"ml-2 inline-flex cursor-pointer items-center"},re={key:2,class:"ml-2 inline-flex cursor-pointer items-center"},oe={class:"mt-6 flex flex-col"},le={class:"overflow-x-auto rounded-lg"},se={class:"inline-block min-w-full align-middle"},ae={class:"overflow-hidden shadow sm:rounded-lg"},ne={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-600"},de={class:"bg-white dark:bg-gray-800"},ue={class:"bg-hex-f3f3f3"},ie={colspan:"7",class:"px-4 py-6 text-sm font-normal text-gray-900 dark:bg-gray-500 dark:text-white"},ce={class:"flex flex-row"},fe={class:"flex flex-1 items-center"},ge={class:"text-lg"},pe={class:"justify-items-end"},be={controls:"",class:"chapter"},xe=["src"],ye=["id"],ke={class:"p-4"},he=["onClick"],me=["onClick"],ve=["id","onFocusout","onFocusin"],we={class:"group relative whitespace-nowrap p-4"},_e={key:0},$e=["title","href"],Ee=["onClick"],Ce={style:{"font-style":"italic","font-family":"times"}},Se={class:"p-4"},Te={class:"p-4"},Ve={class:"p-4"},Ae={class:"flex items-center justify-between pt-3 sm:pt-6"},Fe={key:0},Ie={key:0,class:"flex-shrink-0"},V="vocabulary_chapter",Le=D({__name:"index",setup(je){const d=f(!1),v=f(!0),w=f(!0),k=f(!1),E=f(!1),_=f(!1),C=f(""),A=Object.keys(T),i=f(localStorage.getItem(V)||A[0]),F=f(!1),g=K(T);O(i,r=>{localStorage.setItem(V,r)});function I(){let r=0,e=0,o=0;if(d.value){const s=g[i.value];for(const l of s.words)for(const u of l)u.spellValue?u.spellError?r++:o++:e++}return`${e} 个未完成，${o} 个正确，${r} 个错误`}P(()=>{F.value=!0;const r=document.getElementsByTagName("audio");for(const e of Array.from(r))e.onplay=()=>{for(const o of Array.from(r))o.blur(),e!==o&&o.pause()}}),R(()=>{const r=document.getElementsByTagName("audio");for(const e of Array.from(r))e.load()}),document.addEventListener("keydown",r=>{if(["ArrowLeft","ArrowRight"," "].includes(r.key)){r.preventDefault();const e=document.getElementsByTagName("audio"),o={ArrowLeft:-5,ArrowRight:5};for(const s of Array.from(e)){if(s.blur(),o[r.key]){const l=o[r.key];s.currentTime=s.currentTime+l}r.key===" "&&(s.paused?s.play():s.pause())}}});let b=null;function S(r){b&&(b.pause(),b.currentTime=0),b=document.createElement("audio"),b.src=r,b.play()}function j(r){const e=`${r.word.join(" ")} ${r.pos} ${r.meaning}`;navigator.clipboard.writeText(e)}function B(r){r.stopPropagation();const e=r.target;if(r.key==="Enter"){const o=(Number(e.id)+1).toString();document.getElementById(o)?.focus()}}function N(r,e){w.value&&S(e)}function L(r,e){const s=r.target.value.toLowerCase().trim();s.length<1?(e.spellValue="",e.spellError=!1):(e.spellValue=s,e.spellError=!e.word.map(l=>l.toLowerCase().trim()).includes(s)),C.value=I()}function M(r){const e={error:"ml-4 bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 dark:bg-gray-700 focus:border-red-500 inline-block p-2.5 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500",normal:"ml-4 inline-block border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400",success:"ml-4 bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700 dark:placeholder-green-500 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 inline-block p-2.5 dark:bg-gray-700 dark:border-green-500"};if(E.value){if(r.spellError)return e.error;if(r.spellValue.length>0&&!r.spellError)return e.success}return e.normal}function U(){const r=g[i.value].words,e=[];for(const o of r)for(const s of o)s.spellError&&e.push(`${s.word.join(" ")} ${s.pos} ${s.meaning}`);navigator.clipboard.writeText(e.join(`

`))}return(r,e)=>(n(),a("div",Y,[t("div",q,[t("div",J,[e[15]||(e[15]=t("div",{class:"mb-4 lg:mb-0"},[t("h3",{class:"mb-2 text-xl font-bold text-gray-900 dark:text-white"}," 雅思词汇真经 "),t("span",{class:"text-base font-normal text-gray-500 dark:text-gray-400"},"涵盖雅思必备核心词，逻辑词群记忆法")],-1)),t("div",Q,[t("div",X,[x(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),class:"block w-full flex-1 border border-gray-300 rounded-lg bg-gray-50 p-2.5 text-sm text-gray-900 dark:border-gray-600 focus:border-blue-500 dark:bg-gray-700 dark:text-white focus:ring-blue-500 dark:focus:border-blue-500 dark:focus:ring-blue-500 dark:placeholder-gray-400"},[(n(!0),a(y,null,h(g,(o,s)=>(n(),a("option",{key:s,value:s},c(s),9,Z))),128))],512),[[W,i.value]]),t("label",G,[x(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value=o),type:"checkbox",class:"peer sr-only"},null,512),[[m,d.value]]),e[7]||(e[7]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[8]||(e[8]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"练习模式",-1))]),d.value?(n(),a("label",ee,[x(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>v.value=o),type:"checkbox",class:"peer sr-only"},null,512),[[m,v.value]]),e[9]||(e[9]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[10]||(e[10]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"释义",-1))])):p("",!0),d.value?(n(),a("label",te,[x(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>_.value=o),type:"checkbox",class:"peer sr-only"},null,512),[[m,_.value]]),e[11]||(e[11]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[12]||(e[12]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"原词",-1))])):p("",!0),d.value?(n(),a("label",re,[x(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>w.value=o),type:"checkbox",class:"peer sr-only"},null,512),[[m,w.value]]),e[13]||(e[13]=t("div",{class:"peer relative h-6 w-11 rounded-full bg-gray-200 after:absolute after:start-[2px] after:top-[2px] after:h-5 after:w-5 after:border after:border-gray-300 dark:border-gray-600 after:rounded-full after:bg-white dark:bg-gray-700 peer-checked:bg-blue-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 after:transition-all after:content-[''] peer-checked:after:translate-x-full peer-checked:after:border-white dark:peer-focus:ring-blue-800 rtl:peer-checked:after:-translate-x-full"},null,-1)),e[14]||(e[14]=t("span",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300"},"自动播放",-1))])):p("",!0)])])]),t("div",oe,[t("div",le,[t("div",se,[t("div",ae,[t("table",ne,[e[17]||(e[17]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," # "),t("th",{class:"p-4 text-xs font-medium tracking-wider text-gray-500 dark:text-white"},[t("br")]),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词 "),t("th",{class:"w-0 text-left text-xs font-medium text-gray-500 dark:text-white"}," 词性 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 词义 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 例句 "),t("th",{class:"p-4 text-left text-xs font-medium tracking-wider text-gray-500 dark:text-white"}," 拓展 ")])],-1)),t("tbody",de,[t("tr",ue,[t("td",ie,[t("div",ce,[t("div",fe,[t("span",ge,c(i.value),1),z(" （ "+c(g[i.value].groupCount)+" 组 "+c(g[i.value].wordCount)+" 个词 ） ",1)]),t("div",pe,[t("audio",be,[t("source",{src:`vocabulary/audio/${g[i.value].audio}`,type:"audio/mpeg"},null,8,xe)])])])])]),(n(!0),a(y,null,h(g[i.value].words,(o,s)=>(n(),a(y,{key:o[0]?.id},[(n(!0),a(y,null,h(o,l=>x((n(),a("tr",{id:`tr_${l.id}`,key:l.id,class:$([{"bg-gray-50 dark:bg-gray-700":l.id%2===0,[`group-color-${s%15}`]:!0},"text-sm text-gray-900 dark:text-white"])},[t("td",ke,c(l.id),1),t("td",null,[t("i",{class:"i-ph-speaker-simple-high-bold inline-block cursor-pointer",onClick:u=>S(`vocabulary/audio/${i.value}/${l.word[0]}.mp3`)},null,8,he),d.value?(n(),a(y,{key:0},[t("i",{class:$(`${l.showSource?"i-ph-eye-slash-bold":"i-ph-eye-bold"} inline-block cursor-pointer ml-4`),title:"显示原词",onClick:u=>l.showSource=!l.showSource},null,10,me),t("input",{id:`${l.id}`,autocomplete:"off",class:$(M(l)),type:"text",onFocusout:u=>L(u,l),onFocusin:u=>N(u,`vocabulary/audio/${i.value}/${l.word[0]}.mp3`),onKeydown:B},null,42,ve)],64)):p("",!0)]),t("td",we,[!d.value||l.showSource||d.value&&k.value&&l.spellError||_.value?(n(),a("div",_e,[(n(!0),a(y,null,h(l.word,u=>(n(),a("p",{key:u},[t("a",{class:"hover:underline",title:`在剑桥词典中查询 ${u}`,target:"_blank",href:`https://dictionary.cambridge.org/dictionary/english-chinese-simplified/${u}`},c(u),9,$e)]))),128)),t("div",{class:"absolute right-0 top-0 hidden h-100% items-center group-hover:flex",onClick:u=>j(l)},e[16]||(e[16]=[t("i",{class:"i-ph-copy block cursor-pointer px-4"},null,-1)]),8,Ee)])):p("",!0)]),t("td",Ce,c(l.pos),1),t("td",Se,c(v.value?l.meaning:""),1),t("td",Te,c(d.value?"":l.example),1),t("td",Ve,c(d.value?"":l.extra),1)],10,ye)),[[H,d.value&&(k.value?l.spellError:!0)||!d.value]])),128))],64))),128))])])])])])]),t("div",Ae,[t("div",null,[d.value?(n(),a("p",Fe,c(C.value),1)):p("",!0)]),d.value?(n(),a("div",Ie,[t("button",{type:"button",class:"rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[5]||(e[5]=o=>E.value=!0)}," 完成练习 "),t("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:e[6]||(e[6]=o=>k.value=!k.value)},c(k.value?"展示所有":"仅展示错词"),1),t("button",{type:"button",class:"ml-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white dark:bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:U}," 拷贝错词 ")])):p("",!0)])])]))}});export{Le as default};
