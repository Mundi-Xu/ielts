import{l as w,b as v,c as n,a as t,u as h,F as C,h as W,o as a,t as c,g as _,j as x,m as K,p as f}from"./index-0f7bb73d.js";import{w as d}from"./listening179-b180f9fb.js";const V={class:"relative overflow-x-auto"},S={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},$=t("thead",{class:"bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{class:"w-0 px-6 py-3"}," # "),t("th",{class:"w-0 px-6 py-3"}," 词性 "),t("th",{class:"w-20 px-6 py-3"}," 音频 "),t("th",{class:"px-6 py-3"}," 考点词/同义替换 "),t("th",{class:"px-6 py-3"}," 结果 ")])],-1),B={class:"px-6 py-4"},U={class:"px-6 py-4 italic"},j={class:"px-6 py-4"},D=["onClick"],E=["onKeydown"],L=["id","onUpdate:modelValue"],F={class:"px-4"},N=["onUpdate:modelValue","onKeydown"],I={class:"px-6 py-4"},M={key:0,class:"i-carbon-checkmark block text-green-700"},R={key:1},A=w({__name:"practice",setup(T){const y=v(d.map(o=>({...o,form:{word:"",replaceStr:""},result:{checked:!1,errorWords:[]}})));function g(o,r){o.key==="`"&&(o.preventDefault(),l(r))}function l(o){const r=document.createElement("audio");r.src=`/179_audios/${o}.mp3`,r.play()}function k(o){var m;const r=o+1;if(r>=d.length)return;const e=y[o],i=e.form.word.trim().toLowerCase(),s=e.form.replaceStr.split(/[,，]/).map(u=>u.trim().toLowerCase().replace(/\s+/g," ")),p=[];i!==e.word&&p.push(e.word),p.push(...e.replace.filter(u=>!s.includes(u))),e.result.checked=!0,e.result.errorWords=p;const b=d[r];l(b.word),(m=document.getElementById(`input_${r+1}`))==null||m.focus()}return(o,r)=>(a(),n("div",null,[t("div",V,[t("div",null,[t("button",{onClick:r[0]||(r[0]=()=>{l(h(d)[0].word)})}," 开始 ")]),t("table",S,[$,t("tbody",null,[(a(!0),n(C,null,W(h(y),(e,i)=>(a(),n("tr",{key:e.index,class:"border-b bg-white dark:border-gray-700 dark:bg-gray-800"},[t("td",B,c(e.index),1),t("td",U,c(e.type),1),t("td",j,[t("button",{class:"i-carbon-volume-up-filled",onClick:s=>l(e.word)},null,8,D)]),t("td",{class:"flex flex-row items-center justify-start px-6 py-4",onKeydown:s=>g(s,e.word)},[_(t("input",{id:`input_${e.index}`,"onUpdate:modelValue":s=>e.form.word=s,p:"x-2 y-1",w:"150px",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none",spellcheck:"false",type:"text",placeholder:"请输入..."},null,8,L),[[x,e.form.word]]),t("div",F,c(e.meaning),1),_(t("input",{"onUpdate:modelValue":s=>e.form.replaceStr=s,p:"x-2 y-1",w:"300px",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none",type:"text",spellcheck:"false",placeholder:"请输入...",onKeydown:K(s=>k(i),["enter"])},null,40,N),[[x,e.form.replaceStr]])],40,E),t("td",I,[e.result.checked&&e.result.errorWords.length<1?(a(),n("i",M)):f("",!0),e.result.checked&&e.result.errorWords.length>0?(a(),n("p",R,c(e.result.errorWords.join(", ")),1)):f("",!0)])]))),128))])])])]))}});export{A as default};
